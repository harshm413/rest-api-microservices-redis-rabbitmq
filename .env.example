# ============================================
# ChatApp Microservices - Environment Variables
# ============================================
# Copy this file to .env and fill in the values
# DO NOT commit .env to version control
# ============================================

# General
NODE_ENV=production

# ============================================
# Security Secrets (REQUIRED - Generate secure values!)
# ============================================
# Generate with: openssl rand -base64 48
JWT_SECRET=your-super-secret-jwt-key-minimum-32-characters-long
JWT_REFRESH_SECRET=your-super-secret-refresh-key-minimum-32-characters-long
INTERNAL_API_TOKEN=81811387c3fdd6ece824df696cce2aae4d1812bdf8308341194a4b171a758674

# JWT Token Expiration
JWT_EXPIRES_IN=1d
JWT_REFRESH_EXPIRES_IN=30d

# ============================================
# Service Ports (External - for host access)
# ============================================
GATEWAY_PORT=4000
AUTH_SERVICE_PORT=4003
USER_SERVICE_PORT=4001
CHAT_SERVICE_PORT=4002

# ============================================
# RabbitMQ Configuration
# ============================================
RABBITMQ_USER=guest
RABBITMQ_PASSWORD=guest
RABBITMQ_PORT=5672
RABBITMQ_MANAGEMENT_PORT=15672

# ============================================
# Redis Configuration
# ============================================
REDIS_PORT=6379

# ============================================
# MongoDB Configuration (Chat Service)
# ============================================
MONGO_INITDB_ROOT_USERNAME=root
MONGO_INITDB_ROOT_PASSWORD=password
MONGO_PORT=27017

# ============================================
# PostgreSQL Configuration (User Service)
# ============================================
USER_DB_NAME=chatapp_user_service
USER_DB_USER=chatapp_user
USER_DB_PASSWORD=chatapp_password
USER_DB_PORT=5432

# ============================================
# MySQL Configuration (Auth Service)
# ============================================
AUTH_DB_NAME=chatapp_auth_service
AUTH_DB_USER=chatapp_auth_user
AUTH_DB_PASSWORD=chatapp_auth_password
AUTH_DB_ROOT_PASSWORD=root_password
AUTH_DB_PORT=3306

# ============================================
# Dokploy Deployment Notes
# ============================================
# 1. In Dokploy, create a new "Compose" project
# 2. Point to your repository containing this docker-compose.yml
# 3. Set these environment variables in Dokploy's UI
# 4. The app services use the "app" profile - enable it in compose config
# 5. Expose the gateway-service port (4000) via Dokploy's domain settings
#
# For production, ensure you:
# - Generate strong random secrets for JWT_SECRET, JWT_REFRESH_SECRET, INTERNAL_API_TOKEN
# - Use strong passwords for all database credentials
# - Configure proper SSL/TLS via Dokploy's proxy settings
# ============================================
