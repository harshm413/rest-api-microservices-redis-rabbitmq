# ============================================
# ChatApp Microservices - Docker Compose Environment Variables
# ============================================
# This file is used when running with docker-compose
# It overrides .env with container-specific URLs
# ============================================

# General
NODE_ENV=development

# ============================================
# Security Secrets (Same as .env)
# ============================================
JWT_SECRET=MSlob3mPkGd7XAug0P3NGcDR8AUH0vLdQtQry0/deXY=
JWT_REFRESH_SECRET=C41f1bhSd+GC1JgLgRn9ZK7NkX9wxCUHR5pstvfPaaw=
INTERNAL_API_TOKEN=xVaPwRGJEUbY09mbtIm8krTxXA2jgCtYY5FMMFWUqoo=

# JWT Token Expiration
JWT_EXPIRES_IN=1d
JWT_REFRESH_EXPIRES_IN=30d

# ============================================
# Service Ports (Internal - inside containers)
# ============================================
GATEWAY_PORT=4000
AUTH_SERVICE_PORT=4003
USER_SERVICE_PORT=4001
CHAT_SERVICE_PORT=4002

# ============================================
# Service URLs (CHANGED: Use container names)
# ============================================
USER_SERVICE_URL=http://user-service:4001
AUTH_SERVICE_URL=http://auth-service:4003
CHAT_SERVICE_URL=http://chat-service:4002

# ============================================
# Database URLs (CHANGED: Use container names and internal ports)
# ============================================
AUTH_DB_URL=mysql://chatapp_auth_user:chatapp_auth_password@chatapp-auth-db:3306/chatapp_auth_service
USER_DB_URL=postgres://chatapp_user:chatapp_password@chatapp-user-db:5432/chatapp_user_service
MONGO_URL=mongodb://root:password@chatapp-mongo:27017/chatapp_chat_service?authSource=admin
REDIS_URL=redis://chatapp-redis:6379
RABBITMQ_URL=amqp://guest:guest@chatapp-rabbitmq:5672

# ============================================
# Infrastructure Ports
# ============================================
RABBITMQ_PORT=18001
RABBITMQ_MANAGEMENT_PORT=18002
REDIS_PORT=18003
MONGO_PORT=18004

# ============================================
# Database Configuration
# ============================================
# MongoDB
MONGO_INITDB_ROOT_USERNAME=root
MONGO_INITDB_ROOT_PASSWORD=password

# PostgreSQL (User Service)
USER_DB_NAME=chatapp_user_service
USER_DB_USER=chatapp_user
USER_DB_PASSWORD=chatapp_password
USER_DB_PORT=18005

# MySQL (Auth Service)
AUTH_DB_NAME=chatapp_auth_service
AUTH_DB_USER=chatapp_auth_user
AUTH_DB_PASSWORD=chatapp_auth_password
AUTH_DB_ROOT_PASSWORD=root_password
AUTH_DB_PORT=18006
